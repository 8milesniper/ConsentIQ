Instruction for Replit

Please update the deployment so the live site at consentiq.tech has all required environment variables set.

Add this diagnostic route (if not already in server/routes.ts):

// server/routes.ts
app.get("/api/env-check", (req, res) => {
  res.json({
    DATABASE_URL: process.env.DATABASE_URL ? "‚úÖ SET" : "‚ùå MISSING",
    JWT_SECRET: process.env.JWT_SECRET ? "‚úÖ SET" : "‚ùå MISSING",
    STRIPE_SECRET_KEY: process.env.STRIPE_SECRET_KEY ? "‚úÖ SET" : "‚ùå MISSING",
    STRIPE_PRICE_ID: process.env.STRIPE_PRICE_ID ? "‚úÖ SET" : "‚ùå MISSING",
    STRIPE_ANNUAL_PRICE_ID: process.env.STRIPE_ANNUAL_PRICE_ID ? "‚úÖ SET" : "‚ùå MISSING",
    VITE_STRIPE_PUBLIC_KEY: process.env.VITE_STRIPE_PUBLIC_KEY ? "‚úÖ SET" : "‚ùå MISSING",
    SUPABASE_URL: process.env.SUPABASE_URL ? "‚úÖ SET" : "‚ùå MISSING",
    SUPABASE_SERVICE_ROLE_KEY: process.env.SUPABASE_SERVICE_ROLE_KEY ? "‚úÖ SET" : "‚ùå MISSING",
    FRONTEND_URL: process.env.FRONTEND_URL ? "‚úÖ SET" : "‚ùå MISSING"
  });
});


After redeploy, visit
üëâ https://www.consentiq.tech/api/env-check

This will display ‚úÖ or ‚ùå for each secret.

Add the following secrets in Deployment ‚Üí Secrets:

DATABASE_URL=postgresql://<db-user>:<db-pass>@<db-host>/<db-name>
JWT_SECRET=b3fa6a6517f551047b36564d352f043a74b0765cbcbc47c815f03352caf1ac197f270d250ca302ab619241cfea6059d0f21ef462f619e9e667a0598999a1826c
STRIPE_SECRET_KEY=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
STRIPE_PRICE_ID=price_1SCvuYLFiSREHMWwZRRDvyjP
STRIPE_ANNUAL_PRICE_ID=price_1SCw01LFiSREHMWw3W7XyDx5
VITE_STRIPE_PUBLIC_KEY=pk_live_xxxxxxxxxxxxxxxxxxxxx
SUPABASE_URL=https://<your-supabase-project>.supabase.co
SUPABASE_SERVICE_ROLE_KEY=eyJh...<full service role key>...
FRONTEND_URL=https://www.consentiq.tech


‚ö†Ô∏è Note: if the frontend code is currently reading STRIPE_PUBLISHABLE_KEY instead of VITE_STRIPE_PUBLIC_KEY, please rename to VITE_STRIPE_PUBLIC_KEY for consistency.

Redeploy again.

Confirm by visiting https://www.consentiq.tech/api/env-check
 ‚Äî all lines should show ‚úÖ SET.